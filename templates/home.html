{% extends "layout.html" %}

{% block content %}
<div class="text-center">
    <h1>Music Genres</h1>
    <p class="lead">Hi, I'm Ann Jordan! I love music since I have always used it as a form of expression and inspiration. Here's a few genres that I love the most.</p>

    <div class="row mt-4">
        <div class="col-md-4">
            <a href="{{ url_for('shoegaze') }}" class="genre-card shoegaze-card">
                <h3>Shoegaze</h3>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{{ url_for('metal') }}" class="genre-card metal-card">
                <h3>Metal</h3>
            </a>
        </div>
        <div class="col-md-4">
            <a href="{{ url_for('emo') }}" class="genre-card emo-card">
                <h3>Emo</h3>
            </a>
        </div>
    </div>
</div>

<hr>

<h2 class="mt-5">Tell me about your music tastes!</h2>
<p>Please review the genres above before filling out the form below.</p>

<form method="POST" action="{{ url_for('home') }}">
    <div class="mb-3">
        <label><strong>Which of the following genres do you like? (Select any)</strong></label><br>
        {% for genre in genres %}
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" name="liked_genres" id="genre_{{ loop.index }}" value="{{ genre }}">
                <label class="form-check-label" for="genre_{{ loop.index }}">{{ genre }}</label>
            </div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="compelling_artists" class="form-label"><strong>Which artists did you find most compelling? (Optional)</strong></label>
        <input type="text" class="form-control" id="compelling_artists" name="compelling_artists" placeholder="Artist names separated by commas">
    </div>

    <div class="mb-3">
        <label for="listened_genres" class="form-label"><strong>What genres do you already listen to? (Select any)</strong></label>
        <select multiple class="form-select" id="listened_genres" name="listened_genres">
            {% for genre in listened_options %}
                <option value="{{ genre }}">{{ genre }}</option>
            {% endfor %}
        </select>
        <small class="form-text text-muted">Hold Ctrl (Cmd on Mac) to select multiple genres.</small>
    </div>

    <button type="submit" class="btn btn-primary">Get Recommendations</button>
</form>

{% if recommendations %}
<hr>
<h3>Your Recommendations</h3>
<ul>
    {% for rec in recommendations %}
        <li>{{ rec }}</li>
    {% endfor %}
</ul>
{% endif %}

{% endblock %}
